"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\nconst MAX_REDIRECTS = 5;\nconst rolePaths = {\n    Admin: [\n        \"/admin/dashBoard\",\n        \"/admin/addUser\",\n        \"/admin/editUser\"\n    ],\n    Instructor: [\n        \"/instructor/dashBoard\",\n        \"/instructor/profile\",\n        \"/instructor/addExam\"\n    ],\n    ExamOfficer: [\n        \"/exam-officer/dashBoard\",\n        \"/exam-officer/profile\",\n        \"/exam-officer/addSubject\",\n        \"/exam-officer/backupExam\"\n    ],\n    TechUnit: [\n        \"/tech/dashBoard\",\n        \"/tech/profile\",\n        \"/tech/reviewExam\"\n    ]\n};\nasync function middleware(request) {\n    console.log(\"-------- Middleware Start --------\");\n    console.log(\"Request path:\", request.nextUrl.pathname);\n    const redirectCount = parseInt(request.headers.get(\"x-redirect-count\") || \"0\");\n    console.log(\"Current redirect count:\", redirectCount);\n    if (redirectCount >= MAX_REDIRECTS) {\n        console.log(\"Max redirects reached, going to error page\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/error\", request.url));\n    }\n    const userEmail = request.cookies.get(\"userEmail\")?.value;\n    const userRole = request.cookies.get(\"role\")?.value;\n    const userId = request.cookies.get(\"userId\")?.value;\n    console.log(\"User email:\", userEmail);\n    console.log(\"User role:\", userRole);\n    console.log(\"User ID:\", userId);\n    if (request.nextUrl.pathname === \"/sign-in\" || request.nextUrl.pathname === \"/error\") {\n        console.log(\"On sign-in or error page, no redirect\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    }\n    if (!userEmail) {\n        console.log(\"No user email, redirecting to sign-in\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/sign-in\", request.url));\n    }\n    const allowedPaths = rolePaths[userRole];\n    console.log(\"Allowed paths for role:\", allowedPaths);\n    if (allowedPaths) {\n        // Check if the current path starts with any of the allowed paths\n        const isAllowedPath = allowedPaths.some((path)=>request.nextUrl.pathname.startsWith(path));\n        console.log(\"Is allowed path:\", isAllowedPath);\n        if (!isAllowedPath) {\n            console.log(\"User tried to access a restricted path\");\n            // Special case for Admin trying to access editUser page\n            if (userRole === \"Admin\" && request.nextUrl.pathname.startsWith(\"/admin/editUser/\")) {\n                console.log(\"Admin accessing editUser page\");\n                const redirectUrl = new URL(`/admin/editUser/${userId}`, request.url);\n                console.log(\"Redirecting to:\", redirectUrl.toString());\n                const newResponse = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(redirectUrl);\n                newResponse.headers.set(\"x-redirect-count\", (redirectCount + 1).toString());\n                return newResponse;\n            }\n            console.log(\"Redirecting to default role path\");\n            const defaultRedirectUrl = new URL(allowedPaths[0], request.url);\n            console.log(\"Default redirect URL:\", defaultRedirectUrl.toString());\n            const newResponse = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(defaultRedirectUrl);\n            newResponse.headers.set(\"x-redirect-count\", (redirectCount + 1).toString());\n            return newResponse;\n        }\n    } else {\n        console.log(\"User role not recognized, redirecting to default path\");\n        const redirectUrl = getRoleBasedRedirect(userRole, request.url);\n        if (redirectUrl) {\n            console.log(\"Redirecting to role-based URL:\", redirectUrl.toString());\n            const newResponse = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(redirectUrl);\n            newResponse.headers.set(\"x-redirect-count\", (redirectCount + 1).toString());\n            return newResponse;\n        }\n    }\n    console.log(\"No redirect needed, proceeding to requested page\");\n    console.log(\"-------- Middleware End --------\");\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nfunction getRoleBasedRedirect(role, baseUrl) {\n    console.log(\"Getting role-based redirect for role:\", role);\n    let redirectUrl = null;\n    switch(role){\n        case \"Admin\":\n            redirectUrl = new URL(\"/admin/dashBoard\", baseUrl);\n            break;\n        case \"Instructor\":\n            redirectUrl = new URL(\"/instructor/dashBoard\", baseUrl);\n            break;\n        case \"ExamOfficer\":\n            redirectUrl = new URL(\"/exam-officer/dashBoard\", baseUrl);\n            break;\n        case \"TechUnit\":\n            redirectUrl = new URL(\"/tech/dashBoard\", baseUrl);\n            break;\n        default:\n            redirectUrl = null;\n    }\n    console.log(\"Redirect URL:\", redirectUrl?.toString() || \"null\");\n    return redirectUrl;\n}\nconst config = {\n    matcher: [\n        \"/((?!api|_next/static|_next/image|favicon.ico|assets).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZFLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbWlkZGxld2FyZS50cz80MjJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcblxyXG5jb25zdCBNQVhfUkVESVJFQ1RTID0gNTtcclxuXHJcbmNvbnN0IHJvbGVQYXRocyA9IHtcclxuICBBZG1pbjogWycvYWRtaW4vZGFzaEJvYXJkJywgJy9hZG1pbi9hZGRVc2VyJywgJy9hZG1pbi9lZGl0VXNlciddLFxyXG4gIEluc3RydWN0b3I6IFtcclxuICAgICcvaW5zdHJ1Y3Rvci9kYXNoQm9hcmQnLFxyXG4gICAgJy9pbnN0cnVjdG9yL3Byb2ZpbGUnLFxyXG4gICAgJy9pbnN0cnVjdG9yL2FkZEV4YW0nLFxyXG4gIF0sXHJcbiAgRXhhbU9mZmljZXI6IFtcclxuICAgICcvZXhhbS1vZmZpY2VyL2Rhc2hCb2FyZCcsXHJcbiAgICAnL2V4YW0tb2ZmaWNlci9wcm9maWxlJyxcclxuICAgICcvZXhhbS1vZmZpY2VyL2FkZFN1YmplY3QnLFxyXG4gICAgJy9leGFtLW9mZmljZXIvYmFja3VwRXhhbScsXHJcbiAgXSxcclxuICBUZWNoVW5pdDogWycvdGVjaC9kYXNoQm9hcmQnLCAnL3RlY2gvcHJvZmlsZScsICcvdGVjaC9yZXZpZXdFeGFtJ10sXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnNvbGUubG9nKCctLS0tLS0tLSBNaWRkbGV3YXJlIFN0YXJ0IC0tLS0tLS0tJyk7XHJcbiAgY29uc29sZS5sb2coJ1JlcXVlc3QgcGF0aDonLCByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUpO1xyXG5cclxuICBjb25zdCByZWRpcmVjdENvdW50ID0gcGFyc2VJbnQoXHJcbiAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LXJlZGlyZWN0LWNvdW50JykgfHwgJzAnXHJcbiAgKTtcclxuICBjb25zb2xlLmxvZygnQ3VycmVudCByZWRpcmVjdCBjb3VudDonLCByZWRpcmVjdENvdW50KTtcclxuXHJcbiAgaWYgKHJlZGlyZWN0Q291bnQgPj0gTUFYX1JFRElSRUNUUykge1xyXG4gICAgY29uc29sZS5sb2coJ01heCByZWRpcmVjdHMgcmVhY2hlZCwgZ29pbmcgdG8gZXJyb3IgcGFnZScpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvZXJyb3InLCByZXF1ZXN0LnVybCkpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgdXNlckVtYWlsID0gcmVxdWVzdC5jb29raWVzLmdldCgndXNlckVtYWlsJyk/LnZhbHVlO1xyXG4gIGNvbnN0IHVzZXJSb2xlID0gcmVxdWVzdC5jb29raWVzLmdldCgncm9sZScpPy52YWx1ZTtcclxuICBjb25zdCB1c2VySWQgPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCd1c2VySWQnKT8udmFsdWU7XHJcblxyXG4gIGNvbnNvbGUubG9nKCdVc2VyIGVtYWlsOicsIHVzZXJFbWFpbCk7XHJcbiAgY29uc29sZS5sb2coJ1VzZXIgcm9sZTonLCB1c2VyUm9sZSk7XHJcbiAgY29uc29sZS5sb2coJ1VzZXIgSUQ6JywgdXNlcklkKTtcclxuXHJcbiAgaWYgKFxyXG4gICAgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lID09PSAnL3NpZ24taW4nIHx8XHJcbiAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUgPT09ICcvZXJyb3InXHJcbiAgKSB7XHJcbiAgICBjb25zb2xlLmxvZygnT24gc2lnbi1pbiBvciBlcnJvciBwYWdlLCBubyByZWRpcmVjdCcpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XHJcbiAgfVxyXG5cclxuICBpZiAoIXVzZXJFbWFpbCkge1xyXG4gICAgY29uc29sZS5sb2coJ05vIHVzZXIgZW1haWwsIHJlZGlyZWN0aW5nIHRvIHNpZ24taW4nKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL3NpZ24taW4nLCByZXF1ZXN0LnVybCkpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYWxsb3dlZFBhdGhzID0gcm9sZVBhdGhzW3VzZXJSb2xlIGFzIGtleW9mIHR5cGVvZiByb2xlUGF0aHNdO1xyXG4gIGNvbnNvbGUubG9nKCdBbGxvd2VkIHBhdGhzIGZvciByb2xlOicsIGFsbG93ZWRQYXRocyk7XHJcblxyXG4gIGlmIChhbGxvd2VkUGF0aHMpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHBhdGggc3RhcnRzIHdpdGggYW55IG9mIHRoZSBhbGxvd2VkIHBhdGhzXHJcbiAgICBjb25zdCBpc0FsbG93ZWRQYXRoID0gYWxsb3dlZFBhdGhzLnNvbWUoKHBhdGgpID0+XHJcbiAgICAgIHJlcXVlc3QubmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKHBhdGgpXHJcbiAgICApO1xyXG4gICAgY29uc29sZS5sb2coJ0lzIGFsbG93ZWQgcGF0aDonLCBpc0FsbG93ZWRQYXRoKTtcclxuXHJcbiAgICBpZiAoIWlzQWxsb3dlZFBhdGgpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1VzZXIgdHJpZWQgdG8gYWNjZXNzIGEgcmVzdHJpY3RlZCBwYXRoJyk7XHJcblxyXG4gICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIEFkbWluIHRyeWluZyB0byBhY2Nlc3MgZWRpdFVzZXIgcGFnZVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdXNlclJvbGUgPT09ICdBZG1pbicgJiZcclxuICAgICAgICByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aCgnL2FkbWluL2VkaXRVc2VyLycpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBZG1pbiBhY2Nlc3NpbmcgZWRpdFVzZXIgcGFnZScpO1xyXG4gICAgICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gbmV3IFVSTChgL2FkbWluL2VkaXRVc2VyLyR7dXNlcklkfWAsIHJlcXVlc3QudXJsKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnUmVkaXJlY3RpbmcgdG86JywgcmVkaXJlY3RVcmwudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgY29uc3QgbmV3UmVzcG9uc2UgPSBOZXh0UmVzcG9uc2UucmVkaXJlY3QocmVkaXJlY3RVcmwpO1xyXG4gICAgICAgIG5ld1Jlc3BvbnNlLmhlYWRlcnMuc2V0KFxyXG4gICAgICAgICAgJ3gtcmVkaXJlY3QtY291bnQnLFxyXG4gICAgICAgICAgKHJlZGlyZWN0Q291bnQgKyAxKS50b1N0cmluZygpXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbmV3UmVzcG9uc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdSZWRpcmVjdGluZyB0byBkZWZhdWx0IHJvbGUgcGF0aCcpO1xyXG4gICAgICBjb25zdCBkZWZhdWx0UmVkaXJlY3RVcmwgPSBuZXcgVVJMKGFsbG93ZWRQYXRoc1swXSwgcmVxdWVzdC51cmwpO1xyXG4gICAgICBjb25zb2xlLmxvZygnRGVmYXVsdCByZWRpcmVjdCBVUkw6JywgZGVmYXVsdFJlZGlyZWN0VXJsLnRvU3RyaW5nKCkpO1xyXG4gICAgICBjb25zdCBuZXdSZXNwb25zZSA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChkZWZhdWx0UmVkaXJlY3RVcmwpO1xyXG4gICAgICBuZXdSZXNwb25zZS5oZWFkZXJzLnNldChcclxuICAgICAgICAneC1yZWRpcmVjdC1jb3VudCcsXHJcbiAgICAgICAgKHJlZGlyZWN0Q291bnQgKyAxKS50b1N0cmluZygpXHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiBuZXdSZXNwb25zZTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ1VzZXIgcm9sZSBub3QgcmVjb2duaXplZCwgcmVkaXJlY3RpbmcgdG8gZGVmYXVsdCBwYXRoJyk7XHJcbiAgICBjb25zdCByZWRpcmVjdFVybCA9IGdldFJvbGVCYXNlZFJlZGlyZWN0KHVzZXJSb2xlLCByZXF1ZXN0LnVybCk7XHJcbiAgICBpZiAocmVkaXJlY3RVcmwpIHtcclxuICAgICAgY29uc29sZS5sb2coJ1JlZGlyZWN0aW5nIHRvIHJvbGUtYmFzZWQgVVJMOicsIHJlZGlyZWN0VXJsLnRvU3RyaW5nKCkpO1xyXG4gICAgICBjb25zdCBuZXdSZXNwb25zZSA9IE5leHRSZXNwb25zZS5yZWRpcmVjdChyZWRpcmVjdFVybCk7XHJcbiAgICAgIG5ld1Jlc3BvbnNlLmhlYWRlcnMuc2V0KFxyXG4gICAgICAgICd4LXJlZGlyZWN0LWNvdW50JyxcclxuICAgICAgICAocmVkaXJlY3RDb3VudCArIDEpLnRvU3RyaW5nKClcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIG5ld1Jlc3BvbnNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ05vIHJlZGlyZWN0IG5lZWRlZCwgcHJvY2VlZGluZyB0byByZXF1ZXN0ZWQgcGFnZScpO1xyXG4gIGNvbnNvbGUubG9nKCctLS0tLS0tLSBNaWRkbGV3YXJlIEVuZCAtLS0tLS0tLScpO1xyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSb2xlQmFzZWRSZWRpcmVjdChcclxuICByb2xlOiBzdHJpbmcgfCB1bmRlZmluZWQsXHJcbiAgYmFzZVVybDogc3RyaW5nXHJcbik6IFVSTCB8IG51bGwge1xyXG4gIGNvbnNvbGUubG9nKCdHZXR0aW5nIHJvbGUtYmFzZWQgcmVkaXJlY3QgZm9yIHJvbGU6Jywgcm9sZSk7XHJcbiAgbGV0IHJlZGlyZWN0VXJsOiBVUkwgfCBudWxsID0gbnVsbDtcclxuICBzd2l0Y2ggKHJvbGUpIHtcclxuICAgIGNhc2UgJ0FkbWluJzpcclxuICAgICAgcmVkaXJlY3RVcmwgPSBuZXcgVVJMKCcvYWRtaW4vZGFzaEJvYXJkJywgYmFzZVVybCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnSW5zdHJ1Y3Rvcic6XHJcbiAgICAgIHJlZGlyZWN0VXJsID0gbmV3IFVSTCgnL2luc3RydWN0b3IvZGFzaEJvYXJkJywgYmFzZVVybCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnRXhhbU9mZmljZXInOlxyXG4gICAgICByZWRpcmVjdFVybCA9IG5ldyBVUkwoJy9leGFtLW9mZmljZXIvZGFzaEJvYXJkJywgYmFzZVVybCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnVGVjaFVuaXQnOlxyXG4gICAgICByZWRpcmVjdFVybCA9IG5ldyBVUkwoJy90ZWNoL2Rhc2hCb2FyZCcsIGJhc2VVcmwpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJlZGlyZWN0VXJsID0gbnVsbDtcclxuICB9XHJcbiAgY29uc29sZS5sb2coJ1JlZGlyZWN0IFVSTDonLCByZWRpcmVjdFVybD8udG9TdHJpbmcoKSB8fCAnbnVsbCcpO1xyXG4gIHJldHVybiByZWRpcmVjdFVybDtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBtYXRjaGVyOiBbJy8oKD8hYXBpfF9uZXh0L3N0YXRpY3xfbmV4dC9pbWFnZXxmYXZpY29uLmljb3xhc3NldHMpLiopJ10sXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJNQVhfUkVESVJFQ1RTIiwicm9sZVBhdGhzIiwiQWRtaW4iLCJJbnN0cnVjdG9yIiwiRXhhbU9mZmljZXIiLCJUZWNoVW5pdCIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0IiwiY29uc29sZSIsImxvZyIsIm5leHRVcmwiLCJwYXRobmFtZSIsInJlZGlyZWN0Q291bnQiLCJwYXJzZUludCIsImhlYWRlcnMiLCJnZXQiLCJyZWRpcmVjdCIsIlVSTCIsInVybCIsInVzZXJFbWFpbCIsImNvb2tpZXMiLCJ2YWx1ZSIsInVzZXJSb2xlIiwidXNlcklkIiwibmV4dCIsImFsbG93ZWRQYXRocyIsImlzQWxsb3dlZFBhdGgiLCJzb21lIiwicGF0aCIsInN0YXJ0c1dpdGgiLCJyZWRpcmVjdFVybCIsInRvU3RyaW5nIiwibmV3UmVzcG9uc2UiLCJzZXQiLCJkZWZhdWx0UmVkaXJlY3RVcmwiLCJnZXRSb2xlQmFzZWRSZWRpcmVjdCIsInJvbGUiLCJiYXNlVXJsIiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});